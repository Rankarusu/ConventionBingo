:root {
  box-sizing: border-box;
}

//reset button styling
button,
input[type="submit"],
input[type="reset"] {
  all: unset;
}

/// COLOR PALLETE
//kudos to https://material.io/design/color/dark-theme.html
$primary       : #BB86FC;
$primaryVariant: #3700B3;
$secondary     : #03dac6;
$background    : #121212;
$surface       : #121212;
$dp1           : #1d1d1d;
$dp2           : #212121;
$dp3           : #242424;
$darkHover     : #2d2d2d;

$error        : #cf6679;
$onPrimary    : #000000;
$onBackground : #ffffff;
$onSurface    : #ffffff;

$dp1Hover   : mix($onSurface, $dp1, 4%);
$dp2Hover   : mix($onSurface, $dp2, 4%);
$dp2Focused : mix($onSurface, $dp2, 12%);
$dp3Hover   : mix($onSurface, $dp3, 4%);
$dp3Focused : mix($onSurface, $dp3, 12%);

$primaryHover  : mix($onSurface, $primary, 4%);
$primaryFocused: mix($onSurface, $primary, 12%);
$primaryRipple : mix($onSurface, $primary, 22%);

$onSurfaceHover          : mix($onSurface, $surface, 4%);
$onSurfaceFocused        : mix($onSurface, $surface, 12%);
$onSurfacePrimaryHover   : mix($primary, $surface, 4%);
$onSurfacePrimaryFocused : mix($primary, $surface, 12%);

$onSurfaceHighEmphasis  : rgba($onSurface, .87);
$onSurfaceMediumEmphasis: rgba($onSurface, .60);
$onSurfaceDisabled      : rgba($onSurface, .38);


/******************************** ICONS ********************************/

.material-icons {
  font-family   : 'Material Icons';
  font-weight   : normal;
  font-style    : normal;
  font-size     : 24px;
  /* Preferred icon size */
  display       : inline-block;
  line-height   : 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap     : normal;
  white-space   : nowrap;
  direction     : ltr;

  /* https://fonts.google.com/icons */

  /* Support for all WebKit browsers. */
  -webkit-font-smoothing: antialiased;
  /* Support for Safari and Chrome. */
  text-rendering        : optimizeLegibility;

  /* Support for Firefox. */
  -moz-osx-font-smoothing: grayscale;

  /* Support for IE. */
  font-feature-settings: 'liga';

  &.md-18 {
    font-size: 18px;
  }

  &.md-24 {
    font-size: 24px;
  }

  &.md-36 {
    font-size: 36px;
  }

  &.md-48 {
    font-size: 48px;
  }
}

/********************************  ********************************/


body {
  color           : $onBackground;
  font-family     : "Fira Mono", sans-serif;
  background-color: $background;
  margin          : 0;
  padding         : 0;
}

input[type="file"] {
  display: none;
}

.screen-dim {
  opacity   : 0.0;
  transition: .2s ease;

  &.show {
    position        : fixed;
    top             : 0;
    left            : 0;
    right           : 0;
    bottom          : 0;
    background-color: $background;
    opacity         : 0.6;
    z-index         : 98;
  }

}

/******************************** HEADER ********************************/

.header {
  background-color: $dp3;
  width           : 100%;
  position        : fixed;
  top             : 0;
  height          : 60px;
  overflow        : hidden;
  z-index         : 100;
  box-shadow      : 1px 1px 2px 2px rgba(0, 0, 0, .2);
  display         : flex;

  &__burger {
    width  : 35px;
    height : 35px;
    padding: 22px 12px;
    cursor : pointer;
  }

  &__title {
    font-size    : 2rem;
    align-self   : center;
    color        : $onSurfaceHighEmphasis;
    margin       : 0 auto;
    padding-right: 57px;
    white-space  : nowrap;
  }
}

.burger {

  &__bar {
    height          : 5px;
    width           : 100%;
    background-color: $onBackground;
    display         : block;
    border-radius   : 5px;
    transition      : 0.3s ease;

    &--top {
      transform: translateY(-4px);
    }

    &--bottom {
      transform: translateY(4px);
    }
  }

}

.change {
  .burger {

    &__bar {
      &--top {
        transform: translateY(4px) rotate(-45deg);
      }

      &--middle {
        opacity: 0;
      }

      &--bottom {
        transform: translateY(-6px) rotate(45deg);
      }
    }
  }
}



/******************************** SIDEBAR ********************************/

.sidebar {
  transform       : translateX(-35vw);
  width           : 30vw;
  height          : 100vh;
  background-color: $dp2;
  z-index         : 99;
  overflow        : hidden;

  top            : 60px;
  position       : fixed;
  transition     : .2s ease;
  display        : flex;
  flex-direction : column;
  justify-content: flex-start;
  align-items    : flex-start;

  &.show {
    transform : translateX(0px);
    transition: .2s ease;
  }

  &__heading {

    font-size    : 2rem;
    margin-bottom: 2rem;
    padding-left : 1rem;
  }

  &__nav-list {
    padding  : 0;
    margin   : 0;
    width    : 100%;
    font-size: 2rem;
    color    : $onSurface;
  }
}

.nav-list {
  a {
    text-decoration: none;
  }

  &__item {
    color         : $onSurface;
    width         : 100%;
    list-style    : none;
    padding       : 0.5rem 1rem;
    cursor        : pointer;
    display       : flex;
    gap           : 2rem;
    flex-direction: row;
    align-items   : center;

    &:hover {
      transition      : 0.3s ease;
      background-color: $dp2Hover;
    }

    &:active {
      background-color: $dp2Focused;
    }
  }

  &__icon {
    color: $onSurfaceDisabled;
  }
}

/******************************** INDEX ********************************/

main {
  margin   : auto;
  padding  : 60px 2rem;
  z-index  : 1;
  max-width: 1000px;
}

@media screen and (max-width: 1080px) {
  main {
    padding: 60px 0.5rem;
  }
}

.bingo-grid {
  max-width            : 800px;
  margin               : 2rem auto;
  display              : grid;
  grid-template-columns: repeat(5, 1fr);
  grid-template-rows   : repeat(5, 1fr);
  grid-gap             : 3px;
}

.bingo-field {
  transition: .2s;

  color           : $onSurfaceHighEmphasis;
  position        : relative;
  display         : flex;
  text-align      : center;
  aspect-ratio    : 1;
  overflow        : hidden;
  background-color: $dp1;
  border-radius   : .5rem;
  box-shadow      : 1px 1px 2px 2px rgba(0, 0, 0, .2);

  &:hover {
    background-color: $onSurfacePrimaryHover;
    transition      : .2s;
  }

  &__inner {
    border-radius  : .5rem;
    width          : 100%;
    height         : 100%;
    justify-content: center;
    align-items    : center;
    transition     : .1s ease;
  }

  &__text {
    margin         : 2.5%;
    width          : 95%;
    height         : 95%;
    display        : inline-flex;
    justify-content: center;
    align-items    : center;
    font-size      : 1rem;
    word-wrap      : break-word;
    hyphens        : auto;
    /* TODO        : https://github.com/STRML/textFit */
  }

  &__input {
    position  : absolute;
    width     : 100%;
    height    : 100%;
    opacity   : 0;
    cursor    : pointer;
    margin    : 0;
    transition: .2s;


    &:checked {
      +.bingo-field__inner {
        border-radius   : .5rem;
        background-color: $onSurfacePrimaryFocused;
        box-shadow      : inset 0px 0px 0px 2px $primary;
        color           : $onBackground;
        transition      : .2s;
      }
    }

    &--disabled {
      pointer-events: none;

      +.bingo-field__inner {
        color     : $onSurfaceDisabled !important;
        box-shadow: inset 0px 0px 0px 2px transparent !important;

        &::after {
          color      : $primary;
          position   : absolute;
          top        : 5%;
          right      : 5%;
          content    : '\f044';
          font-family: FontAwesome;
        }
      }
    }
  }


}

.button-container {
  display        : flex;
  flex-direction : row;
  justify-content: space-between;
  align-items    : center;

  &__heading {
    font-size: 4em;
  }

  &__text {
    color    : $onSurfaceMediumEmphasis;
    font-size: 1.5rem;
    padding  : 1.5rem;
  }
}

.btn {
  color           : $onPrimary;
  display         : flex;
  font-size       : 1rem;
  align-items     : center;
  background-color: $primary;
  padding         : 1rem;
  border-radius   : 0.5rem;
  cursor          : pointer;
  gap             : .5rem;
  margin          : .5rem;
  justify-content : center;

  background-position: center;
  transition         : background 0.8s;

  &:hover {
    background-color: $primaryHover;
    background      : $primaryRipple radial-gradient(circle, transparent 1%, $primaryRipple 1%) center/15000%;

  }

  &:active {
    background-color: $primaryFocused;
    box-shadow      : inset 0px 0px 0px 2px $onSurface;
    background-size : 100%;
    transition      : background 0s;
  }

  &--text {
    padding  : .5rem;
    min-width: 15rem;
    font-size: 1.5rem;
  }
}

/******************************** EDIT ********************************/


.search-wrapper {
  display       : flex;
  flex-direction: row;
  gap           : 1rem;
  margin        : 1rem 0;
  padding-right : 1rem;
}

.search-bar {
  box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, .2);

  color           : $onSurface;
  padding         : .5rem;
  border          : none;
  background-color: $dp1;
  font-size       : 2em;
  flex            : 1;
  border-radius   : .5rem;

  border-bottom: $onSurface;

  &:hover {
    background-color: $onSurfaceHover;
  }

  &:focus-visible {
    outline         : none;
    background-color: $onSurfacePrimaryFocused;
    box-shadow      : inset 0px 0px 0px 2px $primary;
  }
}

.cards-container {
  box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, .2);

  border-radius   : .5rem;
  margin-top      : 1rem;
  display         : flex;
  flex-direction  : column;
  background-color: $dp1;
}

.card {
  color          : &$onSurfaceHighEmphasis;
  display        : flex;
  flex-direction : row;
  justify-content: flex-end;
  padding        : 1rem;
  gap            : .5rem;
  align-items    : center;

  &:hover {
    background-color: $dp1Hover;
  }

  &:first-of-type {
    border-radius: .5rem .5rem 0 0;
  }

  &:last-of-type {
    border-radius: 0 0 .5rem .5rem;
  }

  &__text {
    width: 100%;
  }
}

.hide {
  display: none;
}



/******************************** MODAL ********************************/

.modal {
  position        : fixed;
  top             : 50%;
  left            : 50%;
  transform       : translate(-50%, -20%);
  width           : 600px;
  max-width       : 100%;
  height          : 400px;
  max-height      : 100%;
  background-color: $dp3;
  z-index         : 1000;
  opacity         : 0;
  box-shadow      : 1px 1px 1px 1px rgba(0, 0, 0, .2);
  border-radius   : .5rem;
  flex-direction  : column;
  transition      : .2s ease;
  pointer-events  : none;
  visibility      : hidden;

  &.show {
    display       : flex;
    opacity       : 1;
    transition    : .2s ease;
    transform     : translate(-50%, -50%);
    pointer-events: all;
    visibility    : visible;
    /*not sure if i need this*/
  }

  &__header {
    display        : flex;
    flex-direction : row;
    justify-content: space-between;
    padding        : 1rem;
    font-size      : 1.5rem;
  }

  &__content {
    flex-grow: 1;
  }

  &__input {
    padding         : 1rem;
    width           : 100%;
    height          : 100%;
    resize          : none;
    border          : none;
    transition      : .5s ease;
    box-sizing      : border-box;
    background-color: $dp1;
    color           : $onSurfaceHighEmphasis;

    &:hover {
      background-color: $onSurfacePrimaryHover;
      transition      : .5s ease;
    }

    &:focus {
      outline         : none;
      background-color: $onSurfacePrimaryFocused;
      box-shadow      : inset 0px 0px 0px 2px $primary;
    }

  }

  &__footer {
    display        : flex;
    justify-content: space-between;
    gap            : .5rem;
    padding        : 1rem;
  }
}


/****************** SWIPER ***************/
.swiper {
  max-width: 1000px;
}

.swiper-pagination-bullet {
  background-color: $primary;
}

.swiper-button-next,
.swiper-button-prev {
  color: $primary;
}

.message {
  color           : $onSurface;
  padding         : 1rem;
  width           : 15rem;
  position        : fixed;
  display         : flex;
  flex-direction  : column;
  border-radius   : .5rem .5rem 0 0;
  top             : 5rem;
  right           : .5rem;
  background-color: $dp3;
  box-shadow      : 1px 1px 1px 1px rgba(0, 0, 0, .2);

  z-index: 1;
  gap    : .5rem;

  animation: fadeInOut 3s;

  &__textbox {
    display        : flex;
    flex-direction : row;
    justify-content: space-between;
    align-items    : center;
  }

  &__text {
    word-wrap    : break-word;
    overflow-wrap: break-word;
  }

  &__icon {
    cursor: pointer;
  }

  &__meter {
    margin-bottom: calc(-1rem - 5px);
    margin-left  : -1rem;
    width        : calc(100% + 2rem);
    border-radius: 0 0 .5rem .5rem;
    height       : 5px;
    background   : inherit;
    overflow     : hidden;
  }

  &__progress-bg {
    display: block;
    height : 100%;
  }

  &__progress {
    display            : block;
    height             : 100%;
    background-color   : $primary;
    animation          : progressBar 3s ease-in-out;
    animation-fill-mode: both;
  }
}


@keyframes progressBar {
  0% {
    width: 0;
  }

  100% {
    width: 100%;
  }
}

@keyframes fadeInOut {
  0% {
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  90% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
}